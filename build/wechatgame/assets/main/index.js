window.__require=function e(t,c,o){function n(r,s){if(!c[r]){if(!t[r]){var a=r.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var u=c[r]={exports:{}};t[r][0].call(u.exports,function(e){return n(t[r][1][e]||e)},u,u.exports,e,t,c,o)}return c[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({cow:[function(e,t){"use strict";cc._RF.push(t,"074cch25KJFCYh33L5vcy9C","cow");var c=cc.Class({name:"cow_skin",properties:{cows:{default:[],type:[cc.SpriteFrame]}}});cc.Class({extends:cc.Component,properties:{cow_sets:{default:[],type:[c]}},onLoad:function(){this.intervalTime=0,this.randomType=Math.floor(3*Math.random())},start:function(){},update:function(e){this.intervalTime+=e;var t=Math.floor(this.intervalTime/.2);t%=3;var c=this.cow_sets[this.randomType];this.node.getComponent(cc.Sprite).spriteFrame=c.cows[t]},runCallback:function(){cc.log("\u4e00\u4e2a\u8f6e\u56de\u7ed3\u675f\uff01"),this.randomType=Math.floor(3*Math.random())}}),cc._RF.pop()},{}],game:[function(e,t){"use strict";cc._RF.push(t,"5764fRS/JVBRZClKwHP3Xm9","game"),cc.Class({extends:cc.Component,properties:{rope_node:{default:null,type:cc.Node},cow_ins:{default:null,type:cc.Node},rope_imgs:{default:[],type:cc.SpriteFrame},cow_prefab:{default:null,type:cc.Prefab}},onLoad:function(){this.success=!1,this.scoreNum=0},start:function(){var e=cc.find("Canvas/bg-Sprite/count_down").getComponent(cc.Label),t=30;this.schedule(function(){if(t--,e.string=t+"s",0==t){cc.log("\u6e38\u620f\u7ed3\u675f\uff01");var c=cc.find("Canvas/result"),o=c.getChildByName("title"),n=c.getChildByName("content");o.getComponent(cc.Label).string="\u6700\u7ec8\u5f97\u5206\uff1a"+this.scoreNum;var i=n.getComponent(cc.Label);switch(!0){case this.scoreNum<=3:i.string="\u5957\u725b\u9752\u94dc";break;case this.scoreNum<=6:i.string="\u5957\u725b\u9ad8\u624b";break;case this.scoreNum>6:i.string="\u5957\u725b\u738b\u8005"}c.active=!0,cc.director.pause()}},1);var c=wx.getSystemInfoSync(),o=c.screenWidth,n=c.screenHeight,i=wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:o,height:n,lineHeight:40,backgroundColor:"#00000000",color:"#ffffff"}}),r=this;i.onTap(function(e){console.log(e.userInfo);var t=e.userInfo;r.wxLogin(t),i.destroy()}),wx.getUserInfo({success:function(e){var t=e.userInfo;r.wxLogin(t)},fail:function(){console.log("\u83b7\u53d6\u5931\u8d25")}})},wxLogin:function(e){var t=cc.find("Canvas/bg-Sprite/icon").getComponent(cc.Sprite);cc.loader.load({url:e.avatarUrl,type:"png"},function(e,c){t.spriteFrame=new cc.SpriteFrame(c)}),wx.login({success:function(t){t.code?httpUtils.request({url:"http://localhost:8080/login",method:"POST",data:{code:t.code,nickName:e.nickName,avatarUrl:e.avatarUrl},success:function(e){console.log(e)}}):console.log("\u767b\u5f55\u5931\u8d25"+t.errMsg)}})},clickCapture:function(){this.rope_node.active=!0,this.rope_node.setSiblingIndex(100),this.rope_node.y=-500;var e=cc.moveTo(.4,this.rope_node.x,0),t=cc.callFunc(function(){var e=this.cow_ins.x;if(e>-80&&e<80){cc.log("\u6355\u6349\u6210\u529f\uff01");var t=this.node.getChildByName("bg-Sprite");t.removeChild(this.cow_ins);var c=this.cow_ins.getComponent("cow").randomType+1;this.rope_node.getComponent(cc.Sprite).spriteFrame=this.rope_imgs[c],this.cow_ins=cc.instantiate(this.cow_prefab),this.cow_ins.y=0,t.addChild(this.cow_ins),this.success=!0,this.scoreNum++}else cc.log("\u6355\u6349\u5931\u8d25\uff01")},this),c=cc.moveTo(.5,this.rope_node.x,-500),o=cc.callFunc(function(){this.rope_node.getComponent(cc.Sprite).spriteFrame=this.rope_imgs[0],1==this.success&&(cc.find("Canvas/bg-Sprite/score").getComponent(cc.Label).string="Score:"+this.scoreNum,this.success=!1)},this),n=cc.sequence(e,t,c,o);this.rope_node.runAction(n)},closeBtn:function(){cc.log("\u7ee7\u7eed\u6e38\u620f"),cc.director.resume(),cc.director.loadScene("game")},recomeBtn:function(){cc.log("\u7ee7\u7eed\u6e38\u620f"),cc.director.resume(),cc.director.loadScene("game")},shareBtn:function(){wx.shareAppMessage({title:"\u5927\u5bb6\u90fd\u6765\u73a9\u5957\u725b\u5c0f\u6e38\u620f",imageUrl:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg3.redocn.com%2F20091201%2F20091201_36a55ccc6625c6ee296buiktEBtACmVW.jpg&refer=http%3A%2F%2Fimg3.redocn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1625222968&t=b683e51e94e88873f13821202827ac80",success:function(e){console.log(e)},fail:function(e){console.log(e)}})}}),cc._RF.pop()},{}]},{},["cow","game"]);